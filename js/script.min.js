$(function(){var i={A1:"Urban major conurbation",B1:"Urban minor conurbation",C1:"Urban city and town",C2:"Urban city and town in a sparse setting",D1:"Rural town and fringe",D2:"Rural town and fringe in a sparse setting",E1:"Rural village",E2:"Rural village in a sparse setting",F1:"Rural hamlets and isolated dwellings",F2:"Rural hamlets and isolated dwellings in a sparse setting"},o=["A*","A","B","C","D","E","F"];Papa.parse("data/wales_lottery.csv",{download:!0,header:!0,complete:function(e,a){$("#ploading").hide(),$("#divapp").show(),$("#btnsearch").click(function(a){a.preventDefault(),$("#divresults").hide(),$("#diverror").hide();var t=$("#txtpostcode").val(),r=!1,n="",s="";$.each(e.data,function(a,e){t.toUpperCase().replace(/\s/g,"")==e.postcode.toUpperCase().replace(/\s/g,"")&&(r=!0,s=e.grade,n=i[e.urban_code],$("#hgrade").text("Grade "+o[s-1]+" postcode"),$("#pclassification").text(e.postcode+". This postcode has been graded on distance to nearest library, relative to areas of the same rural/urban classification. The classification for this area is "+n+"."))}),r?$("#divresults").show():$("#diverror").show()})}})});